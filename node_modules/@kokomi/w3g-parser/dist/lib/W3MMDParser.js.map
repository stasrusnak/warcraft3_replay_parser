{"version":3,"file":"W3MMDParser.js","sourceRoot":"","sources":["../../src/W3MMDParser.ts"],"names":[],"mappings":"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"}